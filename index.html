<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Draggable Photo Gallery Snap Grid</title>
<style>
#saveLayoutBtn {
    margin-top: 4px;
}

/* --- BASE --- */
html, body {
    margin: 0;
    background: white;
    overflow-x: hidden;
    height: auto;
}

/* REMOVE ARROWS ON NUMBER INPUTS — Chrome, Edge, Safari */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* REMOVE ARROWS — Firefox */
input[type="number"] {
    -moz-appearance: textfield;
}

html {
    overflow-y: scroll;
}

#sidePanel h1 {
    margin: 0 0 20px 0 !important;
    top: 0px;
}

/* FRAME INPUTS — matte (m), frame (f), units — all in one line */
#frameInputs {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 4px;
    width: 130px;
}

/* Matte + frame inputs */
#frameInputs input {
    width: 38px;
    font-size: 14px;
    padding: 3px;
    border: 1px solid black;
    color: black;
    box-sizing: border-box;
}

/* Light grey placeholder */
#frameInputs input::placeholder {
    color: #aaa;
}

/* the shared unit selector */
#frameUnitMaster {
    margin-left: auto;
    width: 45px;
    font-size: 14px;
    padding: 3px;
    border: 1px solid black;
    color: black;
    box-sizing: border-box;
}

/* DRAG-SORT VISUAL CUE */
.image-card.dragging-sort {
    transition: none !important;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.image-card {
    transition: left 1s ease-out, top 1s ease-out;
}

/* Lock button (SVG) */
.lock-button {
  color: #111;
  font-size: 18px;
  background: transparent;
  border: none;
  padding: 6px;
  cursor: pointer;
}
.lock-button svg {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1em;
}

/* #toggleLockBtn styling to match other buttons */
#toggleLockBtn {
    font-family: Arial, sans-serif;
    line-height: 1;
    outline: none;
    border: 1px solid black;
    color: black;
    font-size: 16px;
    text-transform: lowercase;
    cursor: pointer;
    border-radius: 0;
    padding: 6px 10px;
    transition: all 0.3s ease;
    width: 130px;
    text-align: left;
}

#toggleLockBtn:hover {
    background: black;
    color: white;
}

/* Hide Jordan credit on mobile */
@media (max-width: 768px) {
    #creditSelector { display: none !important; }
}

#wallInputs {
    display: flex;
    flex-direction: column;
    gap: 4px;
    width: 130px;
    margin-top: 0;
}

#wallInputs input,
#wallInputs select {
    width: 40px;
    font-size: 14px;
    padding: 3px;
    border: 1px solid black;
    color: black;
    box-sizing: border-box;
}

#wallInputs .wallRow {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 4px;
    width: 100%;
}

#wallInputs button {
    width: 130px;
    border: 1px solid black;
    color: black;
    font-size: 16px;
    text-transform: lowercase;
    cursor: pointer;
    border-radius: 0;
    padding: 6px 10px;
    transition: all 0.3s ease;
    text-align: left;
}

#wallInputs button:hover {
    background: black;
    color: white;
}

#mockWall {
    position: absolute;
    top: 10px;
    left: 200px;
    right: 20px;
    bottom: auto;
    background: #f0f0f0;
    border: 2px solid black;
    z-index: 9986;
}

#galleryOverlay {
    position: absolute;
    width: 100%;
    height: 100%;
}

#galleryOverlay:not(.edit-mode) {
    pointer-events: none;
}
#galleryOverlay.edit-mode {
    pointer-events: all;
}

.rect {
    fill: rgba(255,255,255,0.85);
    stroke: rgba(0,0,0,0.6);
    stroke-width: 2;
    cursor: move;
}
.handle {
    fill: rgba(0,0,0,0.6);
    cursor: nwse-resize;
}

#redBox {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background-color: white;
    z-index: 9000;
    pointer-events: none;
}

#scrollNote {
    display: none;
    text-align: center;
    font-family: Helvetica, sans-serif;
    font-size: 14px;
    background: white;
    color: black;
}

#sidePanel {
    position: fixed;
    top: 0px;
    left: 30px;
    z-index: 10000;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 10px 0 0 0;
}

#sidePanel > * {
    margin: 0 !important;
}

/* All buttons inside sidePanel have no extra vertical margin */
#sidePanel button {
    margin: 0;
}

h1 {
    margin: 0 0 10px 0;
    font-size: 30px;
    background: transparent;
    text-align: left;
    font-family: Helvetica, sans-serif;
}

/* All buttons except the overlay lock icon */
button:not(#toggleLockBtn) {
    border: 1px solid black;
    background: white;
    color: black;
    font-size: 16px;
    text-transform: lowercase;
    cursor: pointer;
    border-radius: 0;
    padding: 6px 10px;
    transition: all 0.3s ease;
    width: 130px;
    text-align: left;
}

button:not(#toggleLockBtn):hover {
    background: black;
    color: white;
}

#creditLink {
    position: fixed;
    right: 40px;
    bottom: 30px;
    font-family: Helvetica, sans-serif;
    font-size: 12px;
    color: black;
    text-decoration: none;
    z-index: 10001;
    background: rgba(255, 255, 255, 0.7);
    padding: 4px 6px;
    pointer-events: auto;
    transition: all 0.2s ease;
}

#creditLink:hover {
    color: white;
    background: black;
}

#scrollArea {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow-y: auto;
    overflow-x: hidden;
    z-index: 9994;
    pointer-events: auto;
}

#gallery {
    position: relative;
    width: 100%;
    min-height: 100%;
}

.image-card {
    position: absolute;
    cursor: grab;
    user-select: none;
    box-sizing: border-box;
    transition: none;
    will-change: width, height, top, left;
    z-index: 9998;
}

/* --- RESIZE HANDLES CSS --- */
.resize-handle {
    position: absolute;
    width: 12px;
    height: 12px;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid white;
    box-sizing: border-box;
    z-index: 99999;
    opacity: 0.9;
    transition: opacity 0.2s ease;
    pointer-events: all;
}

/* Hide handles unless a card is hovered */
.image-card:not(:hover) .resize-handle {
    opacity: 0;
}

/* Corner Handles */
.resize-handle.nw { top: -6px; left: -6px; cursor: nwse-resize; }
.resize-handle.ne { top: -6px; right: -6px; cursor: nesw-resize; }
.resize-handle.sw { bottom: -6px; left: -6px; cursor: nesw-resize; }
.resize-handle.se { bottom: -6px; right: -6px; cursor: nwse-resize; }

/* Hide side handles */
.resize-handle.n, .resize-handle.s, .resize-handle.w, .resize-handle.e {
    display: none;
}

/* Image */
.image-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    pointer-events: none;
    border: none;
    z-index: 100001;
}

.metadata {
    font-size: 12px;
    margin-bottom: 4px;
    text-align: center;
    display: block;
    font-family: Helvetica, sans-serif;
}

.dim-label {
    font-size: 11px;
    color: gray;
    line-height: 1.2;
    white-space: pre-line;
    text-align: center;
    display: none;
    font-family: Helvetica, sans-serif;
    pointer-events: auto;
}

/* Trash zone */
#trashZone {
    border: 1px solid red;
    position: fixed;
    bottom: 40px;
    height: 30px;
    left: 40px;
    width: 130px;
    z-index: 9999;
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 18px;
    color: red;
    pointer-events: none;
    user-select: none;
    font-family: Helvetica, sans-serif;
}

/* Hang height line + label */
#hangLine {
    position: absolute !important;
    left: 0;
    width: 100%;
    height: 2px;
    background: red;
    pointer-events: none;
    z-index: 999999;
}

#hangLineLabel {
    position: absolute;
    left: 8px;
    top: -18px;
    font-size: 12px;
    font-family: Helvetica, sans-serif;
    color: red;
    background: none;
    padding: 1px 4px;
    border-radius: 3px;
    z-index: 1000000;
    pointer-events: none;
}

/* Ensure hang-height stays visible (global) */
#hangHeightContainer {
    display: block !important;
}

/* Hang height checkbox style */
#hangHeightToggle {
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    height: 30px;
    width: 32px;
    border: 1px solid black;
    background: white;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-top: 0 !important;
    padding: 0;
    position: relative;
}

/* Thin checkmark */
#hangHeightToggle:checked::after {
    content: "";
    position: absolute;
    width: 6px;
    height: 12px;
    border-right: 2px solid black;
    border-bottom: 2px solid black;
    transform: rotate(45deg);
    top: 6px;
}

.info-wrapper {
    position: relative;
}

/* Global scale bar */
#globalScaleBarH {
    position: fixed;
    left: 40px;
    bottom: 90px;
    width: 130px;
    height: 6px;
    background: #ddd;
    border-radius: 3px;
    cursor: pointer;
    z-index: 100000 !important;
}

/* Handle */
#globalScaleHandleH {
    position: absolute;
    top: -4px;
    width: 10px;
    height: 14px;
    background: black;
    border-radius: 2px;
    cursor: ew-resize;
    left: 80px;
}

/* ===== SIMPLE MOBILE TOOLBAR ===== */
@media (max-width: 768px) {

    #sidePanel > * {
        margin: 0 !important;
    }

    #uploadBtn,
    #add1Btn,
    #add5Btn,
    #undoBtn,
    #eraseAllBtn {
        display: block !important;
    }

    #sidePanel {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        top: auto;
        height: auto;
        padding: 10px;
        background: white;
        border-top: 1px solid #ccc;
        display: flex !important;
        flex-direction: row !important;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        z-index: 10000;
    }

    #sidePanel button {
        flex: 1;
        padding: 10px 8px;
        font-size: 12px;
        text-align: center !important;
        width: auto !important;
        margin: 0;
    }

    #frameInputs,
    #toggleDemensBtn,
    #snapGridBtn,
    #toggleLockBtn,
    #wallInputs,
    #hangHeightContainer,
    #frameColorBtn,
    #paintBucketBtn,
    #resetWallBtn,
    #setWallBtn {
        display: none !important;
    }

    #gallery {
        left: 0 !important;
        width: 100vw !important;
        margin-bottom: 80px;
        top: 0;
    }

    #trashZone {
        display: flex !important;
        top: 10px;
        left: 10px;
        bottom: auto;
        width: 100px;
        height: 30px;
    }
}

/* pointer-events fix */
#scrollArea { pointer-events: auto; }
#sidePanel  { pointer-events: auto; }
#sidePanel *{ pointer-events: auto; }

/* Frame wrapper for box shadow frame */
.frame-wrapper {
    position: relative;
    display: inline-block;
}

/* Drag frame ghost preview */
#dragFrameGhost {
    position: absolute;
    pointer-events: none;
    width: 120px;
    height: 120px;
    border: 6px solid black;
    box-sizing: border-box;
    opacity: 0.5;
    z-index: 999999;
    display: none;
}

/* Multi-select highlight */
.image-card.selected {
    outline: 3px solid #0099ff;
}

/* Info popup + link + credit styling */
#infoLink {
  position: fixed;
  right: 40px;
  bottom: 57px;
  font-family: Helvetica, sans-serif;
  font-size: 12px;
  color: black;
  text-decoration: none;
  background: rgba(255, 255, 255, 0.7);
  padding: 3px 6px;
  border: 1px solid black;
  z-index: 99999;
  transition: all 0.2s ease;
  pointer-events: auto;
}

#infoLink:hover {
  background: black;
  color: white;
}

#infoPopup {
  display: none;
  font-family: Helvetica, sans-serif;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  z-index: 999999;
  justify-content: center;
  align-items: center;
  pointer-events: auto;
}

#infoContent {
  background: white;
  color: black;
  padding: 24px 32px;
  border-radius: 6px;
  max-width: 620px;
  width: 85%;
  font-family: Helvetica, sans-serif;
  text-align: left;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

#infoContent a {
  color: black;
  text-decoration: underline;
}

#closeInfoLink {
  display: inline-block;
  margin-top: 16px;
  font-size: 14px;
  text-decoration: none;
  color: black;
  border: 1px solid black;
  padding: 4px 8px;
  transition: all 0.2s ease;
  background: transparent;
}

#closeInfoLink:hover {
  background: black;
  color: white;
  text-decoration: none;
}

/* Hide info + credit on mobile */
@media (max-width: 768px) {
  #infoLink,
  #infoPopup,
  #creditLink {
    display: none !important;
  }
}
</style>
</head>
<body>
<svg id="galleryOverlay" xmlns="http://www.w3.org/2000/svg" style="position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:9998"></svg>
<div id="redBox"></div>
<div id="scrollNote"><i>scroll down—best used on desktop</i></div>

<div style="z-index: 99998;">
    <div id="globalScaleBarH">
        <div id="globalScaleHandleH"></div>
    </div>
    <div id="trashZone">trash</div>

    <div style="font-family: Helvetica, sans-serif;">
        <div id="sidePanel">
            <p style="height:40px;"></p>
            <h1>sequence<br>table</h1>

            <button id="uploadBtn">upload</button>
            <input type="file" id="uploadInput" accept="image/*" multiple style="display:none;" />

            <div id="frameInputs">
                <input id="matteInput" type="number" placeholder="m" min="0">
                <input id="frameInput" type="number" placeholder="f" min="0">
                <select id="frameUnitMaster">
                    <option value="in">in</option>
                    <option value="ft">ft</option>
                    <option value="cm">cm</option>
                </select>
            </div>

            <button id="dragFrameBtn">drag frame</button>

            <div style="display: flex; gap: 4px;">
                <button id="add1Btn" style="width: 63px;">add 1</button>
                <button id="add5Btn" style="width: 63px;">add 5</button>
            </div>
            
            <button id="snapGridBtn">snap grid</button> 
            <button id="toggleDemensBtn">dimensions</button>
            <button id="toggleNamesBtn">names</button>

            <div id="wallInputs">
                <div class="wallRow">
                    <input id="wallWidthInput" type="number" value="w" min="1" placeholder="w">
                    <input id="wallHeightInput" type="number" value="h" min="1" placeholder="h">
                    <select id="wallUnit">
                        <option value="ft">ft</option>
                        <option value="in">in</option>
                        <option value="m">m</option>
                    </select>
                </div>

                <button id="setWallBtn" style="width:130px;">create wall</button>

                <!-- COLOR + ERASE ROW -->
                <div id="colorEraseRow" style="display:none; gap:4px; width:130px;">
                    <button id="paintBucketBtn" style="flex:1; min-width:0; display:none;">color</button>
                    <button id="resetWallBtn" style="flex:1; min-width:0; display:none;">erase</button>
                </div>
            </div>

            <div id="hangHeightContainer" style="display:none; width:130px; gap:0;">
                <!-- INPUT ROW -->
                <div style="display:flex; align-items:center; gap:6px; width:130px;">
                    <input id="hangHeightInput" 
                           type="number" 
                           placeholder="57"
                           style="width:62px;font-size:14px;padding:3px;border:1px solid black;">
                    
                    <select id="hangHeightUnit"
                            style="width:62px;font-size:14px;padding:3px;border:1px solid black;">
                        <option value="in">in</option>
                        <option value="cm">cm</option>
                        <option value="ft">ft</option>
                        <option value="m">m</option>
                    </select>
                </div>

                <!-- BUTTON + CHECKBOX ROW -->
                <div style="display:flex; align-items:center; gap:6px; width:130px; margin-top:4px;">
                    <button id="hangHeightBtn" style="width:110px;font-size:14px;">hang height</button>
                    <input id="hangHeightToggle" type="checkbox" checked>
                </div>

                <div style="display:flex; gap:4px; width:130px; margin-top:4px;">
                    <button id="undoBtn" style="flex:1; min-width:0;">undo</button>
                    <button id="eraseAllBtn" style="flex:1; min-width:0;">reset</button>
                </div>

                <button id="loadLayoutBtn" style="margin-top:4px;">load layout</button>
                <input type="file" id="loadLayoutInput" accept=".sequence,.json" style="display:none;">

                <div style="height:4px;"></div>
                <button id="saveLayoutBtn">save layout</button>
            </div>
        </div>
    </div>

    <div id="scrollArea">
        <div id="gallery"></div>
    </div>
</div>

<!-- Info link -->
<a id="infoLink" href="#">info</a>

<!-- Info popup -->
<div id="infoPopup">
  <div id="infoContent">
    <h1 style="text-align:left;">sequence<br>table</h1>

    <p>
    Sequence Table was created in 2025 to help people arrange and visualize image sequences wherever they are. Designed to be simple, intuitive, and accessible, it allows users to experiment with sequencing for personal projects, school assignments, award submissions, exhibition planning, and more.
    </p>

    <br>

    <p>
    <b>Sequence</b> — Add preloaded photographs to your workspace using <b>Add 1</b> or <b>Add 5</b>. These images are included as a visual resource only; their photographers have not granted permission for public use. Use <b>Snap Grid</b> to neatly organize your images into rows. Toggle the <b>Lock</b> to switch between free movement and organized grid-based sorting. Enable <b>Names</b> to view file names and keep track of your photos as you work.
    </p>

    <br>

    <p>
    <b>Curate</b> — Use <b>Create Wall</b> to build a virtual gallery wall by entering real-world measurements. Toggle <b>Dimensions</b> to view how large each photograph would appear inside your space. As you adjust the wall measurements, the displayed sizes update automatically. After creating a wall, click on the dimensions beneath each image to set a precise real-world size for that photograph.
    </p>

    <br>

    <p>
    <b>Keyboard Shortcuts</b> —
    <div style="
        display:grid;
        grid-template-columns: auto auto;
        column-gap:40px;
        row-gap:6px;
        margin-top:8px;
        font-family:Helvetica, sans-serif;
        font-size:14px;
    ">
        <div>S or Space Bar = Snap Grid</div><div>Cmd+Shift+Z = Redo</div>
        <div>L = Lock / Unlock Grid</div><div>Cmd+S = Save Layout</div>
        <div>D = Toggle Dimensions</div><div>Delete = Delete Pictures</div>
        <div>N = Toggle Names</div><div></div>
        <div>H = Toggle Hang Height</div><div></div>
        <div>Cmd+Z = Undo</div><div></div>
    </div>
    </p>

    <br>

    <p>
    Sequence Table features a curated selection of images that Jordan personally enjoys. If you see your photograph included here and prefer it not to appear, please contact him at <a href="mailto:jordantovin@gmail.com">jordantovin@gmail.com</a>.
    </p>

    <br>

    <p>Version 1.0 — 2025.11.17</p>
    <p>© 2025 <a href="https://www.jordantovin.com/" target="_blank">Jordan Tovin</a></p>

    <a href="#" id="closeInfoLink">close</a>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script src="https://jordanswebsitepullzone.b-cdn.net/sequencetable/sequencetable142.js"></script>
<a id="creditLink" href="https://www.jordantovin.com/" target="_blank">created by jordan tovin</a>

</body>
</html>
